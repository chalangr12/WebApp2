/*
 * password.js: Simple example of using prompt.
 *
 * (C) 2010, Nodejitsu Inc.
 *
 */

var prompt = require('../lib/prompt');
var vm = require('vm');

//
// Start the prompt
//
prompt.start();
var values = [];
//
// Get two properties from the user: username and password
//
prompt.get([{
    name: 'emailAddress',
    validator: /^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i,
    required: true,
    warning: 'Invalid email address'
  }, {
    name: 'password',
    hidden: true,
    conform: function (value) {
      return true;
    }
  }], function (err, result) {
  //
  // Log the results.
  //
  console.log('Command-line input received:');
  console.log('  emailAddress: ' + result.username);
  console.log('  password: ' + result.password);
  values.push(result.emailAddress);
  values.push(result.password)
});
